import{u as O,j as r}from"./styled-components.browser.esm-DO55u7qc.js";import{F as T,M as Z}from"./Message-yKsjsUuG.js";import{I as D}from"./InputField-DEceznV5.js";import{I as l}from"./Input-BQ-B39iY.js";import{C as S}from"./Condition-YJ3kNN4A.js";import{C as V}from"./CardInformationPreview-D4mJ5j-m.js";import{r as R}from"./index-CsdIBAqE.js";import"./theme-D8AkfsCP.js";const ee=O.form`
  display: flex;
  flex-direction: column;
  gap: 1.6rem;
  width: 100%;
`,{TITLE:y,CAPTION:_,LABEL:I,ERROR:g,PLACEHOLDER:h}=Z,{MAX_LENGTH:E}=S,X=({cardNumberState:e,setCardNumberState:t,cardNumberErrorState:a,expirationDateState:m,setExpirationDateState:o,expirationDateErrorState:n,userNameState:s,setUserNameState:u,isUserNameError:c})=>{const{first:d,second:i,third:x,fourth:p}=e,{setFirst:v,setSecond:f,setThird:Y,setFourth:$}=t,{isFirstError:j,isSecondError:F,isThirdError:L,isFourthError:w}=a,{month:k,year:B}=m,{setMonth:z,setYear:J}=o,{isMonthError:M,isYearError:P}=n,K=j||F||L||w?g.cardNumber:"",Q=M?g.month:P?g.year:"",W=c?g.userName:"";return r.jsxs(ee,{children:[r.jsx(T,{title:y.cardNumber,caption:_.cardNumber,children:r.jsx(D,{label:I.cardNumber,error:K,children:r.jsxs(r.Fragment,{children:[r.jsx(l,{"aria-label":"first-card-numbers",placeholder:h.cardNumber,value:d,maxLength:E.cardNumber,onChange:v,"aria-invalid":j}),r.jsx(l,{"aria-label":"second-card-numbers",placeholder:h.cardNumber,value:i,maxLength:E.cardNumber,onChange:f,"aria-invalid":F}),r.jsx(l,{"aria-label":"third-card-numbers",placeholder:h.cardNumber,value:x,maxLength:E.cardNumber,onChange:Y,"aria-invalid":L}),r.jsx(l,{"aria-label":"fourth-card-numbers",placeholder:h.cardNumber,value:p,maxLength:E.cardNumber,onChange:$,"aria-invalid":w})]})})}),r.jsx(T,{title:y.expirationDate,caption:_.expirationDate,children:r.jsx(D,{label:I.expirationDate,error:Q,children:r.jsxs(r.Fragment,{children:[r.jsx(l,{"aria-label":"month-expiration",placeholder:h.month,value:k,maxLength:E.expirationDate,onChange:z,"aria-invalid":M}),r.jsx(l,{"aria-label":"year-expiration",placeholder:h.year,value:B,maxLength:E.expirationDate,onChange:J,"aria-invalid":P})]})})}),r.jsx(T,{title:y.userName,children:r.jsx(D,{label:I.userName,error:W,children:r.jsx(l,{"aria-label":"userName",placeholder:h.userName,value:s,maxLength:E.userName,onChange:u,"aria-invalid":c})})})]})};X.__docgenInfo={description:"",methods:[],displayName:"CardInformationForm",props:{cardNumberState:{required:!0,tsType:{name:"CardNumberState"},description:""},setCardNumberState:{required:!0,tsType:{name:"SetCardNumberState"},description:""},cardNumberErrorState:{required:!0,tsType:{name:"CardNumberErrorState"},description:""},expirationDateState:{required:!0,tsType:{name:"ExpirationDateState"},description:""},setExpirationDateState:{required:!0,tsType:{name:"SetExpirationDateState"},description:""},expirationDateErrorState:{required:!0,tsType:{name:"ExpirationDateErrorState"},description:""},userNameState:{required:!0,tsType:{name:"string"},description:""},setUserNameState:{required:!0,tsType:{name:"signature",type:"function",raw:"(event: React.ChangeEvent<HTMLInputElement>) => void",signature:{arguments:[{type:{name:"ReactChangeEvent",raw:"React.ChangeEvent<HTMLInputElement>",elements:[{name:"HTMLInputElement"}]},name:"event"}],return:{name:"void"}}},description:""},isUserNameError:{required:!0,tsType:{name:"boolean"},description:""}}};const N=(e,t,a,m=o=>o)=>{const[o,n]=R.useState(e),[s,u]=R.useState(!1),c=(i,x)=>{const p=i.currentTarget.value;t.valid.test(p)?n(x(p)):n(p.replace(t.invalid,""))};return{value:o,onChange:i=>{c(i,()=>m(i.currentTarget.value)),u(!t.valid.test(i.currentTarget.value)||!a(i.currentTarget.value))},isError:s}},{REG_EXP:b,showVisa:re,showMasterCard:te}=S,ae=e=>{const t=f=>f.length===4,{value:a,onChange:m,isError:o}=N(e[0]??"",b.cardNumber,t),{value:n,onChange:s,isError:u}=N(e[1]??"",b.cardNumber,t),{value:c,onChange:d,isError:i}=N(e[2]??"",b.cardNumber,t),{value:x,onChange:p,isError:v}=N(e[3]??"",b.cardNumber,t);return{cardNumberState:{first:a,second:n,third:c,fourth:x},setCardNumberState:{setFirst:m,setSecond:s,setThird:d,setFourth:p},cardNumberErrorState:{isFirstError:o,isSecondError:u,isThirdError:i,isFourthError:v},showImageCondition:{visaShowCondition:re(a),masterCardShowCondition:te(a)}}},{REG_EXP:q}=S,oe=e=>{const t=d=>Number(d)>=1&&Number(d)<=12,a=d=>d.length===2,{value:m,onChange:o,isError:n}=N(e[0]??"",q.month,t),{value:s,onChange:u,isError:c}=N(e[1]??"",q.year,a);return{expirationDateState:{month:m,year:s},setExpirationDateState:{setMonth:o,setYear:u},expirationDateErrorState:{isMonthError:n,isYearError:c}}},{REG_EXP:ne}=S,se=e=>{const t=s=>s.split(" ").length===2,a=s=>s.toUpperCase(),{value:m,onChange:o,isError:n}=N(e,ne.userName,t,a);return{userNameState:m,setUserNameState:o,isUserNameError:n}},ie=e=>{const{cardNumberState:t,setCardNumberState:a,cardNumberErrorState:m,showImageCondition:o}=ae(e.cardNumbers),{expirationDateState:n,setExpirationDateState:s,expirationDateErrorState:u}=oe(e.expirationDate),{userNameState:c,setUserNameState:d,isUserNameError:i}=se(e.userName);return{previewProps:{cardNumberState:t,expirationDateState:n,userNameState:c,showImageCondition:o},formProps:{cardNumberState:t,setCardNumberState:a,cardNumberErrorState:m,expirationDateState:n,setExpirationDateState:s,expirationDateErrorState:u,userNameState:c,setUserNameState:d,isUserNameError:i}}},me=O.div`
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 4.5rem;
  width: 37.6rem;
  height: 70rem;
  margin: 5rem auto;
  padding: 7.7rem 3.2rem 2rem 3.2rem;

  background-color: ${e=>e.theme.color.white};
  border: 0.1rem solid ${e=>e.theme.color.gray};
  border-radius: 0.4rem;
`;function H(){const{previewProps:e,formProps:t}=ie({cardNumbers:[],expirationDate:[],userName:""});return r.jsxs(me,{children:[r.jsx(V,{...e}),r.jsx(X,{...t})]})}H.__docgenInfo={description:"",methods:[],displayName:"App"};const xe={title:"App",component:H},C={};var U,A,G;C.parameters={...C.parameters,docs:{...(U=C.parameters)==null?void 0:U.docs,source:{originalSource:"{}",...(G=(A=C.parameters)==null?void 0:A.docs)==null?void 0:G.source}}};const ge=["Default"];export{C as Default,ge as __namedExportsOrder,xe as default};
