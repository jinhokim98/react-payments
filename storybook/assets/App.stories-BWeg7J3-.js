import{u as O,j as r}from"./styled-components.browser.esm-DO55u7qc.js";import{F as T,M as Z}from"./Message-BJbwxNb_.js";import{I as D}from"./InputField-DEceznV5.js";import{I as h}from"./Input-BQ-B39iY.js";import{C}from"./Condition-C2q5nO4d.js";import{C as V}from"./CardInformationPreview-D80QjV3e.js";import{r as R}from"./index-CsdIBAqE.js";import"./theme-BLIdp9R6.js";const ee=O.form`
  display: flex;
  flex-direction: column;
  gap: 1.6rem;
  width: 100%;
`,{TITLE:y,CAPTION:_,LABEL:I,ERROR:g,PLACEHOLDER:l}=Z,{MAX_LENGTH:N}=C,X=({cardNumberState:e,setCardNumberState:t,cardNumberErrorState:a,expirationDateState:m,setExpirationDateState:o,expirationDateErrorState:n,userNameState:s,setUserNameState:u,isUserNameError:c})=>{const{first:d,second:i,third:x,fourth:p}=e,{setFirst:v,setSecond:f,setThird:Y,setFourth:$}=t,{isFirstError:j,isSecondError:F,isThirdError:L,isFourthError:w}=a,{month:k,year:B}=m,{setMonth:z,setYear:J}=o,{isMonthError:M,isYearError:P}=n,K=j||F||L||w?g.cardNumber:"",Q=M?g.month:P?g.year:"",W=c?g.userName:"";return r.jsxs(ee,{children:[r.jsx(T,{title:y.cardNumber,caption:_.cardNumber,children:r.jsx(D,{label:I.cardNumber,error:K,children:r.jsxs(r.Fragment,{children:[r.jsx(h,{placeholder:l.cardNumber,value:d,maxLength:N.cardNumber,onChange:v,"aria-invalid":j}),r.jsx(h,{placeholder:l.cardNumber,value:i,maxLength:N.cardNumber,onChange:f,"aria-invalid":F}),r.jsx(h,{placeholder:l.cardNumber,value:x,maxLength:N.cardNumber,onChange:Y,"aria-invalid":L}),r.jsx(h,{placeholder:l.cardNumber,value:p,maxLength:N.cardNumber,onChange:$,"aria-invalid":w})]})})}),r.jsx(T,{title:y.expirationDate,caption:_.expirationDate,children:r.jsx(D,{label:I.expirationDate,error:Q,children:r.jsxs(r.Fragment,{children:[r.jsx(h,{placeholder:l.month,value:k,maxLength:N.expirationDate,onChange:z,"aria-invalid":M}),r.jsx(h,{placeholder:l.year,value:B,maxLength:N.expirationDate,onChange:J,"aria-invalid":P})]})})}),r.jsx(T,{title:y.userName,children:r.jsx(D,{label:I.userName,error:W,children:r.jsx(h,{placeholder:l.userName,value:s,maxLength:N.userName,onChange:u,"aria-invalid":c})})})]})};X.__docgenInfo={description:"",methods:[],displayName:"CardInformationForm",props:{cardNumberState:{required:!0,tsType:{name:"CardNumberState"},description:""},setCardNumberState:{required:!0,tsType:{name:"SetCardNumberState"},description:""},cardNumberErrorState:{required:!0,tsType:{name:"CardNumberErrorState"},description:""},expirationDateState:{required:!0,tsType:{name:"ExpirationDateState"},description:""},setExpirationDateState:{required:!0,tsType:{name:"SetExpirationDateState"},description:""},expirationDateErrorState:{required:!0,tsType:{name:"ExpirationDateErrorState"},description:""},userNameState:{required:!1,tsType:{name:"string"},description:""},setUserNameState:{required:!0,tsType:{name:"signature",type:"function",raw:"(event: React.ChangeEvent<HTMLInputElement>) => void",signature:{arguments:[{type:{name:"ReactChangeEvent",raw:"React.ChangeEvent<HTMLInputElement>",elements:[{name:"HTMLInputElement"}]},name:"event"}],return:{name:"void"}}},description:""},isUserNameError:{required:!0,tsType:{name:"boolean"},description:""}}};const E=(e,t,a,m=o=>o)=>{const[o,n]=R.useState(e),[s,u]=R.useState(!1),c=(i,x)=>{const p=i.currentTarget.value;t.test(p)?n(x(p)):n(p.slice(0,p.length-1))};return[o,i=>{c(i,()=>m(i.currentTarget.value)),u(!t.test(i.currentTarget.value)||!a(i.currentTarget.value))},s]},{REG_EXP:S,showVisa:re,showMasterCard:te}=C,ae=e=>{const t=f=>f.length===4,[a,m,o]=E(e[0],S.cardNumber,t),[n,s,u]=E(e[1],S.cardNumber,t),[c,d,i]=E(e[2],S.cardNumber,t),[x,p,v]=E(e[3],S.cardNumber,t);return{cardNumberState:{first:a,second:n,third:c,fourth:x},setCardNumberState:{setFirst:m,setSecond:s,setThird:d,setFourth:p},cardNumberErrorState:{isFirstError:o,isSecondError:u,isThirdError:i,isFourthError:v},showImageCondition:{visaShowCondition:re(a),masterCardShowCondition:te(a)}}},{REG_EXP:q}=C,oe=e=>{const t=d=>Number(d)>=1&&Number(d)<=12,a=d=>d.length===2,[m,o,n]=E(e[0],q.month,t),[s,u,c]=E(e[1],q.year,a);return{expirationDateState:{month:m,year:s},setExpirationDateState:{setMonth:o,setYear:u},expirationDateErrorState:{isMonthError:n,isYearError:c}}},{REG_EXP:ne}=C,se=e=>{const t=s=>s.split(" ").length===2,a=s=>s.toUpperCase(),[m,o,n]=E(e,ne.userName,t,a);return{userNameState:m,setUserNameState:o,isUserNameError:n}},ie=e=>{const{cardNumberState:t,setCardNumberState:a,cardNumberErrorState:m,showImageCondition:o}=ae(e.cardNumber),{expirationDateState:n,setExpirationDateState:s,expirationDateErrorState:u}=oe(e.expirationDate),{userNameState:c,setUserNameState:d,isUserNameError:i}=se(e.userName);return{previewProps:{cardNumberState:t,expirationDateState:n,userNameState:c,showImageCondition:o},formProps:{cardNumberState:t,setCardNumberState:a,cardNumberErrorState:m,expirationDateState:n,setExpirationDateState:s,expirationDateErrorState:u,userNameState:c,setUserNameState:d,isUserNameError:i}}},me=O.div`
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 4.5rem;
  width: 37.6rem;
  height: 70rem;
  margin: 5rem auto;
  padding: 7.7rem 3.2rem 2rem 3.2rem;

  background-color: ${e=>e.theme.color.white};
  border: 0.1rem solid ${e=>e.theme.color.gray};
  border-radius: 0.4rem;
`;function H(){const{previewProps:e,formProps:t}=ie({cardNumber:[],expirationDate:[],userName:""});return r.jsxs(me,{children:[r.jsx(V,{...e}),r.jsx(X,{...t})]})}H.__docgenInfo={description:"",methods:[],displayName:"App"};const xe={title:"App",component:H},b={};var U,A,G;b.parameters={...b.parameters,docs:{...(U=b.parameters)==null?void 0:U.docs,source:{originalSource:"{}",...(G=(A=b.parameters)==null?void 0:A.docs)==null?void 0:G.source}}};const ge=["Default"];export{b as Default,ge as __namedExportsOrder,xe as default};
